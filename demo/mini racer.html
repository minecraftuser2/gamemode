<!DOCTYPE html>
<html>
<head>
<title>Mini Racer</title>
<style>
body { margin:0; background:#222; overflow:hidden; }
#car { position:absolute; width:30px; height:50px; background:blue; bottom:20px; left:185px; }
.obstacle { position:absolute; width:30px; height:50px; background:red; top:0; }
</style>
</head>
<body>
<div id="car"></div>
<script>
let car = document.getElementById("car");
let carX = 185;
let obstacles = [];
let speed = 3;

document.addEventListener("keydown", e=>{
    if(e.key=="ArrowLeft") carX -=10;
    if(e.key=="ArrowRight") carX +=10;
    carX = Math.max(0, Math.min(carX,370));
    car.style.left = carX + "px";
});

function createObstacle(){
    let o = document.createElement("div");
    o.className="obstacle";
    o.style.left = Math.floor(Math.random()*12)*30 + "px";
    document.body.appendChild(o);
    obstacles.push(o);
}

setInterval(createObstacle,1000);

function loop(){
    obstacles.forEach((o,i)=>{
        let top = parseInt(o.style.top);
        top += speed;
        o.style.top = top + "px";
        let carRect = car.getBoundingClientRect();
        let obsRect = o.getBoundingClientRect();
        if(!(carRect.right<obsRect.left || carRect.left>obsRect.right || carRect.bottom<obsRect.top || carRect.top>obsRect.bottom)){
            alert("Game Over!"); location.reload();
        }
        if(top>window.innerHeight){ o.remove(); obstacles.splice(i,1); }
    });
    requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
