<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Color Dodger</title>
<style>
body { margin:0; background:#111; font-family:Arial; color:white; text-align:center;}
canvas { background:#222; display:block; margin:20px auto; }
</style>
</head>
<body>

<h1>Color Dodger</h1>
<p id="score">Time: 0</p>
<canvas id="game" width="400" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreText = document.getElementById("score");

let player = {x:180, y:350, w:40, h:20};
let blocks = [];
let keys = {};
let startTime = Date.now();
let gameOver = false;

document.addEventListener("keydown", e => keys[e.key]=true);
document.addEventListener("keyup", e => keys[e.key]=false);

function spawnBlock(){
  let x = Math.random()*360;
  blocks.push({x, y:0, w:40, h:20});
}

function update(){
  if(gameOver) return;

  ctx.clearRect(0,0,400,400);

  // Player movement
  if(keys["ArrowLeft"]||keys["a"]) player.x -=5;
  if(keys["ArrowRight"]||keys["d"]) player.x +=5;
  player.x = Math.max(0, Math.min(400-player.w, player.x));

  ctx.fillStyle="cyan";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Move blocks
  blocks.forEach((b,i)=>{
    b.y += 4;
    ctx.fillStyle="red";
    ctx.fillRect(b.x,b.y,b.w,b.h);

    if(b.y + b.h > player.y && b.x < player.x + player.w && b.x + b.w > player.x){
      gameOver = true;
      alert("Game Over! Survived: " + Math.floor((Date.now()-startTime)/1000) + "s");
    }

    if(b.y > 400){
      blocks.splice(i,1);
    }
  });

  scoreText.textContent="Time: "+Math.floor((Date.now()-startTime)/1000);
  requestAnimationFrame(update);
}

setInterval(spawnBlock, 1000);
update();
</script>
</body>
</html>